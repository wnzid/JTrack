{% extends "global_layout.html" %}

{% block title %}Managerial Dashboard â€“ KPI Overview{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
{% endblock %}

{% block content %}
<section class="dashboard-header">
  <h1>Managerial Dashboard</h1>
</section>

<section class="dashboard-body">
  <div class="charts-grid">
    <div class="chart-card">
      <h3>Current Student vs Enrolled</h3>
      <button class="view-report" onclick="location.href='{{ url_for('current_students_report') }}'">View Report</button>
      <canvas id="chart-current-enrolled"></canvas>
    </div>
    <div class="chart-card">
      <h3>Enrolled Vs Offer</h3>
      <button class="view-report" onclick="location.href='{{ url_for('enrolled_offer_report') }}'">View Report</button>
      <canvas id="chart-enrolled-offer"></canvas>
    </div>
    <div class="chart-card">
      <h3>Visa Breakdown</h3>
      <button class="view-report" onclick="location.href='{{ url_for('visa_status_breakdown') }}'">View Report</button>
      <canvas id="chart-visa-breakdown"></canvas>
    </div>
    <div class="chart-card">
      <h3>Offer Expiry Surge</h3>
      <button class="view-report" onclick="location.href='{{ url_for('offer_expiry_report') }}'">View Report</button>
      <canvas id="chart-offer-expiry-surge"></canvas>
    </div>
  </div>

  <aside class="kpi-storyboards">
    <h2 class="kpi-storyboards__title">Storyboards</h2>
    <div class="kpi-card blue">
      <h4>Due Payments</h4>
      <p id="story-due-payments"></p>
    </div>
    <div class="kpi-card orange">
      <h4>Course Performance</h4>
      <p id="story-course-performance"></p>
    </div>
    <div class="kpi-card green">
      <h4>Top Study Reasons</h4>
      <p id="story-study-reasons"></p>
    </div>
  </aside>

</section>
{% endblock %}

{% block extra_scripts %}
  <script src="{{ url_for('static', filename='js/managerial-landing-dashboard.js') }}" defer></script>
{% endblock %}

