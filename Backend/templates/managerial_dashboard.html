{% extends "base.html" %}
{# Manager dashboard layout #}

{% block head %}
  <meta charset="UTF-8">
  <title>Managerial Dashboard</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='Css/style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='Css/managerial_dashboard.css') }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
{% endblock %}

{% block body %}
<div class="container">
  <aside class="sidebar-left">
    <div>
      <h2>JTrack</h2>
      <div class="filter-group time-filter">
        <h3>Filters</h3>
        <div class="radio-group">
          <label><input type="radio" name="time" value="today"> Today</label>
          <label><input type="radio" name="time" value="week"> This week</label>
          <label><input type="radio" name="time" value="month"> This month</label>
          <label><input type="radio" name="time" value="year"> This year</label>
          <label><input type="radio" name="time" value="custom"> Set up</label>
        </div>
        <div class="date-range">
          <input type="text" class="time-range form-control form-control-sm" placeholder="Select range">
          <div class="mt-2">
            <button type="button" class="btn btn-outline-primary btn-sm rounded-pill apply-range">Apply</button>
            <button type="button" class="btn btn-outline-secondary btn-sm rounded-pill cancel-range">Cancel</button>
          </div>
        </div>
      </div>
      <div class="filter-group">
        <h3>Sort by</h3>
        <div class="sort-buttons">
          <button data-sort="asc">Ascending</button>
          <button data-sort="desc">Descending</button>
          <button data-sort="offer">Offer ID</button>
          <button data-sort="status">Offer Status</button>
        </div>
      </div>
      <div class="filter-group">
        <h3>Semester/Intake</h3>
        <div class="intake-buttons">
          <button data-sem="Trimester 1">Trimester 1</button>
          <button data-sem="Trimester 2">Trimester 2</button>
          <button data-sem="Trimester 3">Trimester 3</button>
        </div>
      </div>
    </div>
    <div>
      <a href="{{ url_for('custom_dashboard') }}" aria-label="Create Dashboard" title="Create Dashboard"><i class="fa-solid fa-pen-to-square"></i></a>
      <button aria-label="Download Data" title="Download Data"><i class="fa-solid fa-download"></i></button>
      <button aria-label="Settings" title="Settings"><i class="fa-solid fa-gear"></i></button>
      <a href="{{ url_for('logout') }}" aria-label="Sign Out" title="Sign Out"><i class="fa-solid fa-arrow-right-from-bracket"></i></a>
    </div>
  </aside>
  <main class="main">
    <h1>Managerial Dashboard</h1>
    <h2>Visa Status Breakdown</h2>
    <canvas id="visaChart" height="200"></canvas>
    <div class="table-container">
      <table id="dataTable">
        <thead>
          <tr><th>Nationality</th><th>Sum of Number of Study Periods</th><th>Course/Program</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </main>
  <aside class="sidebar-right">
    <h2 style="font-family:serif">Graphs And Charts</h2>
    <div class="widget-list">
      <button id="donutChartBtn"><span>üç©</span>Donut Chart</button>
      <button id="barChartBtn"><span>‚ñÆ‚ñÆ</span>Bar Chart</button>
      <button id="tableChartBtn"><span>‚ñ¶</span>Table</button>
      <button id="pieChartBtn"><span>ü•ß</span>Pie Chart</button>
    </div>
  </aside>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="{{ url_for('static', filename='js/time_period_filter.js') }}"></script>
<script src="{{ url_for('static', filename='js/managerial_dashboard.js') }}"></script>
{% endblock %}

